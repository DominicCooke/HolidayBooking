loginService=function(n){"use strict";var t=!1;return{broadcast:function(){n.$broadcast("loggedIn")},setLoginStatus:function(n){t=n;localStorage.setItem("loggedIn",n)},getLoginStatus:function(){return t},checkLoginStatus:function(){return localStorage.getItem("loggedIn")}}};templateService=function(n,t,i){"use strict";return{getTemplate:function(t){return n.get(t,{cache:i})},cacheTemplate:function(n,t){i.put(n,t)},compileTemplate:function(n,i){var r=t(n);return r(i)},renderTemplate:function(n,t,i){var r=angular.element(n);i===!0?r.append(t):r.html(t)},addTemplate:function(n,t,i,r){var u=this;u.getTemplate(n).success(function(f){u.cacheTemplate(n,f);var e=u.compileTemplate(f,i);u.renderTemplate(t,e,r)}).error(function(n){throw n;})}}};dataService=function(n,t){"use strict";return{publicHolidaysGet:function(){return n({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/GetPublicHolidays"})},employeeGetById:function(){return n({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/GetEmployeeById"})},employeesGetTeam:function(t){return n({method:"GET",params:{teamId:t},headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/GetEmployeesTeam"})},employeesGet:function(){return n({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/GetEmployees"})},employeeUpdate:function(t){return n({data:t,method:"POST",url:"http://localhost:57068/api/Employee/UpdateEmployee"})},employeeUpdateHoliday:function(t){return n({data:t,method:"POST",contentType:"application/json",headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/UpdateEmployeeAndHoliday"})},employeesUpdateHolidays:function(t){return n({data:t,method:"POST",contentType:"application/json",headers:{Accept:"application/json","Content-Type":"application/json"},url:"http://localhost:57068/api/Employee/UpdateEmployeesAndHolidays"})},userDelete:function(t){return n({data:{StaffId:t.StaffId,IdentityId:t.UserViewModel.IdentityId},method:"POST",url:"http://localhost:57068/api/User/DeleteUserAndEmployee"})},userRegister:function(t){return n({data:t,method:"POST",url:"http://localhost:57068/api/User/RegisterUserAndEmployee"})},userSetRole:function(t,i){return n({data:{RoleName:i.Name,IdentityId:t.UserViewModel.IdentityId},method:"POST",url:"http://localhost:57068/api/User/UserSetRole"})},userGet:function(){return n({method:"GET",url:"http://localhost:57068/api/User/GetUsersAndRoles"})},teamRegister:function(t){return n({data:t,method:"POST",url:"http://localhost:57068/api/Team/CreateTeam"})},teamUpdate:function(t){return n({data:t,method:"POST",url:"http://localhost:57068/api/Team/UpdateTeam"})},teamDelete:function(i){return n({data:i,method:"POST",url:"http://localhost:57068/api/Team/DeleteTeam"}).then(function(n){n.data.length>0&&t.generateNotification("error",n.data)})},teamsGet:function(){return n({method:"GET",url:"http://localhost:57068/api/Team/GetTeams"})},teamSetEmployee:function(t,i){return n({data:{Employee:t,Team:i},method:"POST",url:"http://localhost:57068/api/Employee/EmployeeSetTeam"})}}};authService=function(n){return{authenticateAccount:function(t,i){return n({method:"POST",headers:{"Content-Type":"application/json"},data:{username:t,password:i},url:"http://localhost:57068/api/Account/Login"}).success(function(n){return n==!1?!1:!0})}}};userService=function(n,t){"use strict";var i;return{setUser:function(){n.employeeGetById().then(function(n){i=n.data;t.broadcast()})},getUser:function(){return i},refreshUser:function(){n.employeeGetById().then(function(n){i=n.data})}}};authService=function(n){return{authenticateAccount:function(t,i){return n({method:"POST",headers:{"Content-Type":"application/json"},data:{username:t,password:i},url:"http://localhost:57068/api/Account/Login"}).success(function(n){return n==!1?!1:!0})}}};helperService=function(){"use strict";return{guid:function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()},combineHolidayBookings:function(n){for(var t=[],i=!0,r=null;n.length!==1;)n[0].StartDate.day()+1===n[1].StartDate.day()&&i===!0&&n[0].BookingStatus===n[1].BookingStatus?(n[0].EndDate=n[1].StartDate,n[0].AllowanceDays++,n.length===2&&t.push(n[0]),n.splice(1,1),i=!1):n[0].EndDate.day()+1===n[1].StartDate.day()&&i===!1&&n[0].BookingStatus===n[1].BookingStatus?(n[0].EndDate=n[1].StartDate,n[0].AllowanceDays++,n.length===2&&t.push(n[0]),n.splice(1,1)):n[0].EndDate.day()+1===n[1].StartDate.day()&&n[0].BookingStatus!==n[1].BookingStatus?(n[1].HolidayId=this.guid(),t.push(n[0]),n.length===2&&t.push(n[1]),n.splice(0,1),i=!0):(r===n[0].HolidayId?n[0].HolidayId=this.guid():r=n[0].HolidayId,t.push(n[0]),n.length===2&&t.push(n[1]),n.splice(0,1),i=!0);return t},getListOfTeamMembers:function(n){for(var i=[],t=0;t<n.length;t++)i.push({Name:n[t].FirstName+" "+n[t].LastName,StaffId:n[t].StaffId});return i},unmergeHolidayBookings:function(n){for(var i,t=0;t<n.length;t++)while(n[t].StartDate.day()!==n[t].EndDate.day())i=_.cloneDeep(n[t]),i.EndDate=moment(i.EndDate),i.StartDate=i.EndDate,n.push(i),n[t].EndDate=n[t].EndDate.subtract(1,"days")},parseDateTimeToMoment:function(n){for(var t,i=0;i<n.length;i++)t=n[i],typeof t.StartDate=="object"?(t.StartDate=moment(t.StartDate,"YYYY-MM-DD-Z"),t.EndDate=moment(t.EndDate,"YYYY-MM-DD Z")):(t.StartDate=moment(t.StartDate+"-+0000","YYYY-MM-DD-Z"),t.EndDate=moment(t.EndDate+"-+0000","YYYY-MM-DD Z"))},setAllowanceDaysOfUnmergedHolidays:function(n){for(var t=0;t<n.HolidayBookings.length;t++)n.HolidayBookings[t].AllowanceDays=1}}};notificationService=function(){"use strict";return toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"5000",hideDuration:"1500",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},{generateNotification:function(n,t){n=="success"?toastr.success(t):n=="warning"?toastr.warning(t):n=="error"&&toastr.error(t)}}};viewService=function(n){"use strict";return{gotoView:function(t,i,r){r&&r.length!==0||(r="div.pageBody");n.addTemplate(i,r,t,!1)}}};